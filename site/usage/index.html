<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>Usage - SUMO2GRAL Docs</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Usage";
        var mkdocs_page_input_path = "usage.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/python.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/bash.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> SUMO2GRAL Docs
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">Home</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../prerequisites/">Pre-requisites</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../setup/">Setup</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../project-structure/">Project Structure</a>
                </li>
              </ul>
              <ul class="current">
                <li class="toctree-l1 current"><a class="reference internal current" href="./">Usage</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#offline-mode">Offline Mode</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#parameters-mode">Parameters Mode</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#configuration-file-mode">Configuration File Mode</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#online-mode">Online Mode</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#processing-individual-components">Processing Individual Components</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#running-gral-simulation">Running GRAL Simulation</a>
    </li>
    </ul>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../contributing/">Contributing</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Modules</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../buildings/buildings_processor/">Buildings</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../weather/weather_processor/">Weather</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="../line_emission_sources/highway_data_processor.md">Line Emission Sources</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../maps/maps_processor/">Maps</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../gral/gral_processor/">GRAL</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../local_files_processor/local_file_processor/">Local Files Processor</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">SUMO2GRAL Docs</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">Usage</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="usage">Usage</h1>
<p>The SUMO2GRAL tool is designed to streamline the process of preparing and running simulations for estimating pollutant concentrations in urban areas. This guide will walk you through the steps to use SUMO2GRAL effectively, covering both offline and online modes, as well as the configuration file mode.</p>
<h2 id="offline-mode">Offline Mode</h2>
<p>In the offline mode, you can process data from local files without the need for an internet connection. This mode is useful when you have already downloaded or have access to the necessary data files.</p>
<h3 id="parameters-mode">Parameters Mode</h3>
<p>To run SUMO2GRAL in offline mode using command line parameters, use the following command structure:</p>
<pre><code class="language-bash">python cli.py --base-directory /path/to/base/directory --process all --osm-file /path/to/osm/file/file.osm  --net-file /path/to/net/file/file.net.xml --emissions-file /path/to/edge/emissions/file/edges-emissions-file.xml --gral-dll /path/to/gral/dll/file/GRAL.dll
</code></pre>
<p>Replace the placeholders with the actual paths to your base directory, OSM file, SUMO network file, emissions file, and the GRAL DLL file.</p>
<h3 id="configuration-file-mode">Configuration File Mode</h3>
<p>Alternatively, you can use a configuration file to specify all necessary parameters. This approach simplifies the command and makes it easier to reuse configurations.</p>
<p>Example command:</p>
<pre><code class="language-bash">python cli.py -c configuration.sumo2gral.cfg --process all
</code></pre>
<p>Refer to the <code>examples/configuration.sumo2gral.cfg</code> file for the structure and options available in the configuration file.</p>
<h2 id="online-mode">Online Mode</h2>
<p>In online mode, SUMO2GRAL retrieves data using the osmnx library. This mode requires an internet connection to download building, road, and map data.</p>
<p>To run SUMO2GRAL in online mode, use the following command:</p>
<pre><code class="language-bash">python cli.py --base-directory /path/to/base/directory --north 39.49 --south 39.47 --east -0.37 --west -0.39 --process all  --net-file /path/to/net/file/file.net.xml --emissions-file /path/to/edge/emissions/file/edges-emissions-file.xml --online --gral-dll /path/to/gral/dll/file/GRAL.dll
</code></pre>
<p>Ensure to replace the geographic bounds (<code>--north</code>, <code>--south</code>, <code>--east</code>, <code>--west</code>) with the coordinates that define your area of interest. Also, specify the paths to your SUMO network file, emissions file, and the GRAL DLL file.</p>
<h2 id="processing-individual-components">Processing Individual Components</h2>
<p>SUMO2GRAL allows for processing individual components such as maps, buildings, weather data, highway data, and running GRAL simulations separately. To process a specific component, use the <code>--process</code> argument followed by the component name:</p>
<ul>
<li>For maps: <code>--process map</code></li>
<li>For buildings: <code>--process buildings</code></li>
<li>For weather data: <code>--process weather</code></li>
<li>For highway data: <code>--process highway</code></li>
<li>For GRAL simulation: <code>--process gral</code></li>
</ul>
<p>Example command to process only buildings in offline mode using an OSM file:</p>
<pre><code class="language-bash">python cli.py --base-directory /path/to/base/directory --process buildings --osm-file /path/to/osm/file/file.osm
</code></pre>
<h2 id="running-gral-simulation">Running GRAL Simulation</h2>
<p>To execute the GRAL simulation after generating all required files, use the <code>--process gral</code> argument. Ensure all prerequisites are met and the necessary input files are generated and located in the specified base directory.</p>
<hr />
<p>For more detailed information on the command-line arguments and options available in SUMO2GRAL, refer to the CLI documentation or use the <code>--help</code> flag with the <code>cli.py</code> script.</p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../project-structure/" class="btn btn-neutral float-left" title="Project Structure"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../contributing/" class="btn btn-neutral float-right" title="Contributing">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../project-structure/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../contributing/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
